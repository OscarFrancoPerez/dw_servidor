<html>
	<head>
		<script>
			document.addEventListener("DOMContentLoaded", function () {
					document.getElementById("password_form").addEventListener('submit', validateForm);
				});

				function validateForm(event) {
					event.preventDefault();
					var oldPassword = document.getElementById('old_password').value;
					var newPassword = document.getElementById('new_password').value;
					var verifying = document.getElementById('verifying').value;

					if (oldPassword.length == 0) {
						alert('Se requiere la contraseña para poder realizar la operación');
						return;
					}

					if (newPassword.length == 0) {
						alert('El campo de la contraseña nueva está vacio');
						return;
					}
					if (newPassword != verifying) {
						alert('La contraseña y su confirmación no coinciden.');
						return;
					}
					this.submit();
				}
		</script>
		<meta charset="UTF-8">
	</head>
	<body>
		<h1>Cambiar contraseña</h1>
		<form action="password_change.php" method="post" id="password_form">
			<input type="password" name="old_password" placeholder="Contraseña Actual" id="current_password">
			<br>
			<input type="password" name="new_password" placeholder="Contraseña Nueva" id="new_password">
			<br>
			<input type="password" name="verifying" placeholder="Confirmar Contraseña" id="confirm_password">
			<br>
			<input type="submit" value="Cambiar contraseña">
		</form>
	</body>
</html>